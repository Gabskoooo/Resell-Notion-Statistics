{% extends 'base.html' %}

{% block title %}Modifier Produit{% endblock %}

{% block content %}
<h1 class="mb-4">Modifier Produit: {{ product.name }} ({{ product.sku }})</h1>

{% if error %}
<div class="alert alert-danger" role="alert">
    {{ error }}
</div>
{% endif %}

<form method="post">
    <div class="mb-3">
        <label for="sku" class="form-label">SKU (Référence Unique):</label>
        <input type="text" class="form-control" id="sku" name="sku" value="{{ product.sku }}" required>
    </div>
    <div class="mb-3">
        <label for="name" class="form-label">Nom du produit:</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ product.name }}" required>
    </div>
    <div class="mb-3">
        <label for="size" class="form-label">Taille (ex: 42 EU / US 8.5):</label>
        <input type="text" class="form-control" id="size" name="size" value="{{ product.size if product.size else '' }}">
    </div>
    <div class="mb-3">
        <label for="purchase_price" class="form-label">Prix d'achat (€):</label>
        <input type="number" step="0.01" class="form-control" id="purchase_price" name="purchase_price" value="{{ '%.2f'|format(product.purchase_price) }}" required>
    </div>
    <div class="mb-3">
        <label for="quantity" class="form-label">Quantité en stock:</label>
        <input type="number" class="form-control" id="quantity" name="quantity" value="{{ product.quantity }}" required>
    </div>
    <div class="mb-3">
        <label for="image_url" class="form-label">URL de l'image du produit (optionnel):</label>
        <input type="url" class="form-control" id="image_url" name="image_url" value="{{ product.image_url if product.image_url else '' }}">
    </div>
    <button type="submit" class="btn btn-primary me-2">Modifier Produit</button>
    <a href="{{ url_for('list_products') }}" class="btn btn-secondary">Annuler</a>
</form>
{% endblock %}